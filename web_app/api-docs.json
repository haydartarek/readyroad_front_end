{"openapi":"3.0.1","info":{"title":"ReadyRoad Backend API","description":"REST API for ReadyRoad - Driving exam preparation platform with exam questions, practice questions, lessons, traffic signs, and categories.","contact":{"name":"ReadyRoad Team","email":"support@readyroad.com"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"0.0.1-SNAPSHOT"},"servers":[{"url":"http://localhost:8890","description":"Local Development Server"}],"tags":[{"name":"Categories","description":"Traffic sign category management"},{"name":"Health","description":"Health check and status endpoints"},{"name":"Traffic Rules","description":"Traffic rules and regulations API"},{"name":"Notifications","description":"User notification management"},{"name":"Traffic Signs","description":"Traffic signs and road markings reference"},{"name":"Exam Simulation","description":"Belgian driving license exam simulation (50 questions, 30 minutes)"},{"name":"Search","description":"Global search across traffic signs, lessons, and questions"},{"name":"Quiz","description":"Basic quiz generation endpoints"},{"name":"Exam Simulation (Alias)","description":"Alternative endpoints for exam simulation"},{"name":"Exam Questions","description":"Official exam questions for driving test preparation"},{"name":"User Profile","description":"User profile management API"},{"name":"Data Import","description":"Import data from JSON files into the database"},{"name":"Lessons","description":"Theory lessons for driving test preparation"},{"name":"Practice Questions","description":"Practice questions organized by lessons"},{"name":"Analytics","description":"User analytics and recommendations API"},{"name":"Progress Tracking","description":"Feature B: View learning progress and statistics"}],"paths":{"/api/admin/users/{id}/role":{"put":{"tags":["admin-controller"],"operationId":"updateUserRole","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/users/{id}/lock":{"put":{"tags":["admin-controller"],"operationId":"toggleUserLock","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"boolean"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/quiz/questions/{questionId}/answer":{"post":{"tags":["Quiz"],"summary":"Submit practice answer (Story B1)","description":"Submit answer for practice question and receive immediate feedback with updated progress.\n\n**Feature B1: Answer Submission & Progress Tracking**\n\nThis endpoint:\n- Evaluates answer correctness\n- Provides immediate feedback with correct answer and explanation (all languages)\n- Records submission in user_question_history (enforces 24h cooldown)\n- Updates category progress tracking\n- Recalculates mastery level (BEGINNER/INTERMEDIATE/ADVANCED)\n- Returns updated accuracy statistics\n\n**Security:** Requires authentication. User can only submit answers for their own account.\n\n**Business Rules:**\n- Mastery Levels: BEGINNER (<50%), INTERMEDIATE (50-79%), ADVANCED (≥80%)\n- 24-hour cooldown enforced via last_shown_at timestamp\n- Category progress updated after each submission\n","operationId":"submitPracticeAnswer","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":42}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitPracticeAnswerRequest"}}},"required":true},"responses":{"200":{"description":"Answer submitted successfully with feedback","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitPracticeAnswerResponse"}}}},"400":{"description":"Invalid request - invalid questionId or selectedOptionId"},"404":{"description":"Question not found"},"401":{"description":"User not authenticated"}},"security":[{"none":[]}]}},"/api/exams/simulations/{examId}/questions/{questionId}/answer":{"post":{"tags":["Exam Simulation"],"summary":"Submit exam answer","description":"Submit answer for a specific question in an exam. Does NOT reveal if answer is correct (security). Allows updating answer if question already answered.","operationId":"submitAnswer","parameters":[{"name":"examId","in":"path","description":"Exam ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitExamAnswerRequest"}}},"required":true},"responses":{"409":{"description":"Exam not active","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SubmitExamAnswerResponse"}}}},"404":{"description":"Exam or question not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SubmitExamAnswerResponse"}}}},"200":{"description":"Answer submitted successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SubmitExamAnswerResponse"}}}},"400":{"description":"Invalid answer data","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SubmitExamAnswerResponse"}}}}}}},"/api/exams/simulations/start":{"post":{"tags":["Exam Simulation"],"summary":"Start exam simulation","description":"Start a new 50-question exam simulation with 30-minute time limit. Respects 24h cooldown (Law #1) and adaptive difficulty (Law #2).","operationId":"startExam","responses":{"400":{"description":"User already has active exam","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExamStartResponse"}}}},"409":{"description":"Insufficient questions available","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExamStartResponse"}}}},"201":{"description":"Exam started successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExamStartResponse"}}}}}}},"/api/exam-simulations/start":{"post":{"tags":["Exam Simulation (Alias)"],"summary":"Start exam simulation","operationId":"startExam_1","parameters":[{"name":"userId","in":"query","description":"User ID (optional if authenticated)","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExamStartResponse"}}}}}}},"/api/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/import":{"post":{"tags":["Data Import"],"summary":"Import all data from JSON files","description":"Imports categories, signs, and lessons from JSON files in the data directory","operationId":"importData","parameters":[{"name":"dataDir","in":"query","required":false,"schema":{"type":"string","default":"data"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/users/me":{"get":{"tags":["User Profile"],"summary":"Get current user profile","description":"Returns the authenticated user's profile information","operationId":"getCurrentUserProfile","responses":{"404":{"description":"User not found"},"401":{"description":"Unauthorized - Authentication required"},"200":{"description":"Successfully retrieved user profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/users/me/progress/recommendations":{"get":{"tags":["Progress Tracking"],"summary":"Get study recommendations","description":"Returns personalized study recommendations based on weak areas. This is an alias endpoint for /api/users/me/analytics/weak-areas","operationId":"getRecommendations","responses":{"200":{"description":"Recommendations retrieved successfully","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized - Authentication required","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"bearer-jwt":[]}]}},"/api/users/me/progress/overall":{"get":{"tags":["Progress Tracking"],"summary":"Get overall learning progress (Story B2)","description":"Returns comprehensive learning progress including:\n- Total attempts and accuracy\n- Mastery level assessment\n- Weak and strong categories\n- Difficulty recommendation\n- Study streak tracking\n- Questions remaining count\n- Completed exams summary\n","operationId":"getOverallProgress","responses":{"200":{"description":"Overall progress retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OverallProgressResponse"}}}},"401":{"description":"User not authenticated"}},"security":[{"none":[]}]}},"/api/users/me/progress/categories":{"get":{"tags":["Progress Tracking"],"summary":"Get category-level progress (Story B3)","description":"Returns detailed progress for each category:\n- Category-specific statistics\n- Individual mastery levels\n- Weak/strong category flags\n- Recommended difficulty per category\n- Last practiced timestamp\n\nKey Differences:\n- Mastery Level: Past performance (entity-based, optimistic)\n- Difficulty Recommendation: Future practice (service-based, conservative)\n","operationId":"getCategoryProgress","responses":{"401":{"description":"User not authenticated"},"200":{"description":"Category progress retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryProgressResponse"}}}}},"security":[{"none":[]}]}},"/api/users/me/notifications/unread-count":{"get":{"tags":["Notifications"],"summary":"Get unread notification count","description":"Returns the count of unread notifications for the authenticated user","operationId":"getUnreadCount","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NotificationCountResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/users/me/analytics/weak-areas":{"get":{"tags":["Analytics"],"summary":"Get weak area recommendations","description":"Returns top 3 weakest categories with personalized improvement plan. Includes recommended questions, difficulty level, and estimated time. Target accuracy is 80% (Belgian standards).","operationId":"getWeakAreaRecommendations","responses":{"200":{"description":"Successfully retrieved weak area recommendations (0-3 items)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeakAreaRecommendationResponse"}}}},"401":{"description":"Unauthorized - Authentication required in secure mode"}},"security":[{"bearer-jwt":[]}]}},"/api/users/me/analytics/error-patterns":{"get":{"tags":["Analytics"],"summary":"Get error pattern analytics","description":"Returns user's mistake patterns across 6 error types: SIGN_CONFUSION, SUPPLEMENTARY_IGNORED, PRIORITY_MISUNDERSTANDING, SPEED_LIMIT_ERROR, ZONE_CONFUSION, RULE_OVERGENERALIZATION. Sorted by frequency descending.","operationId":"getErrorPatterns","responses":{"200":{"description":"Successfully retrieved error patterns (always returns 6 items)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorPatternResponse"}}}},"401":{"description":"Unauthorized - Authentication required in secure mode"}},"security":[{"bearer-jwt":[]}]}},"/api/traffic-signs":{"get":{"tags":["Traffic Signs"],"operationId":"getAllSigns","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrafficSignResponse"}}}}}}}},"/api/traffic-signs/{signCode}":{"get":{"tags":["Traffic Signs"],"operationId":"getSignByCode","parameters":[{"name":"signCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TrafficSignResponse"}}}}}}},"/api/traffic-signs/search":{"get":{"tags":["Traffic Signs"],"operationId":"searchTrafficSigns","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrafficSignResponse"}}}}}}}},"/api/traffic-signs/category/{categoryId}":{"get":{"tags":["Traffic Signs"],"operationId":"getSignsByCategory","parameters":[{"name":"categoryId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrafficSignResponse"}}}}}}}},"/api/traffic-rules":{"get":{"tags":["Traffic Rules"],"summary":"Get all traffic rules","description":"Returns a list of all traffic rules","operationId":"getAllTrafficRules","responses":{"200":{"description":"Successfully retrieved traffic rules","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrafficRule"}}}}}}},"/api/traffic-rules/{id}":{"get":{"tags":["Traffic Rules"],"summary":"Get traffic rule by ID","description":"Returns a specific traffic rule by its ID","operationId":"getTrafficRuleById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Traffic rule not found"},"200":{"description":"Successfully retrieved traffic rule","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrafficRule"}}}}}}},"/api/traffic-rules/category/{category}":{"get":{"tags":["Traffic Rules"],"summary":"Get traffic rules by category","description":"Returns traffic rules for a specific category","operationId":"getTrafficRulesByCategory","parameters":[{"name":"category","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully retrieved traffic rules","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrafficRule"}}}}}}},"/api/smart-quiz/stats":{"get":{"tags":["smart-quiz-controller"],"operationId":"getFreshQuestionStats","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/smart-quiz/stats/category/{categoryId}":{"get":{"tags":["smart-quiz-controller"],"operationId":"getCategoryFreshQuestionStats","parameters":[{"name":"categoryId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/smart-quiz/random":{"get":{"tags":["smart-quiz-controller"],"operationId":"generateRandomSmartQuiz","parameters":[{"name":"count","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuizQuestion"}}}}}}}},"/api/smart-quiz/category/{categoryId}":{"get":{"tags":["smart-quiz-controller"],"operationId":"generateCategorySmartQuiz","parameters":[{"name":"categoryId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"count","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuizQuestion"}}}}}}}},"/api/search":{"get":{"tags":["Search"],"summary":"Global search","description":"Search across traffic signs, lessons, and exam questions","operationId":"search","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string"}},{"name":"lang","in":"query","required":false,"schema":{"type":"string","default":"en"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}}}}},"/api/quiz/stats":{"get":{"tags":["Quiz"],"summary":"Get quiz statistics","description":"Returns total count of available questions","operationId":"getQuizStats","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/QuizStats"}}}}}}},"/api/quiz/stats/category/{categoryId}":{"get":{"tags":["Quiz"],"summary":"Get category quiz statistics","description":"Returns question count for a specific category","operationId":"getCategoryStats","parameters":[{"name":"categoryId","in":"path","description":"Category ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/QuizStats"}}}}}}},"/api/quiz/random":{"get":{"tags":["Quiz"],"summary":"Generate random quiz","description":"Returns random questions from all active categories","operationId":"generateRandomQuiz","parameters":[{"name":"count","in":"query","description":"Number of questions (max 50)","required":false,"schema":{"type":"integer","format":"int32","default":10},"example":10}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuizQuestion"}}}}}}}},"/api/quiz/category/{categoryId}":{"get":{"tags":["Quiz"],"summary":"Generate quiz by category","description":"Returns random questions from a specific category","operationId":"generateQuizByCategory","parameters":[{"name":"categoryId","in":"path","description":"Category ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"count","in":"query","description":"Number of questions (max 50)","required":false,"schema":{"type":"integer","format":"int32","default":10},"example":10}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuizQuestion"}}}}}}}},"/api/practice-questions/{id}":{"get":{"tags":["Practice Questions"],"operationId":"getQuestionById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PracticeQuestionResponse"}}}}}}},"/api/practice-questions/lesson/{lessonId}":{"get":{"tags":["Practice Questions"],"operationId":"getQuestionsByLesson","parameters":[{"name":"lessonId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PracticeQuestionResponse"}}}}}}}},"/api/lessons":{"get":{"tags":["Lessons"],"operationId":"getAllLessons","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LessonResponse"}}}}}}}},"/api/lessons/{id}":{"get":{"tags":["Lessons"],"operationId":"getLessonById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LessonResponse"}}}}}}},"/api/lessons/category/{categoryId}":{"get":{"tags":["Lessons"],"operationId":"getLessonsByCategory","parameters":[{"name":"categoryId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LessonResponse"}}}}}}}},"/api/health":{"get":{"tags":["Health"],"summary":"Check API health status","description":"Returns the current health status of the ReadyRoad backend API","operationId":"health","responses":{"500":{"description":"API is down or experiencing issues","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}},"200":{"description":"API is healthy and running","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/api/exams/simulations/{examId}":{"get":{"tags":["Exam Simulation"],"summary":"Get exam by ID","description":"Retrieve exam simulation details","operationId":"getExam","parameters":[{"name":"examId","in":"path","description":"Exam ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/exams/simulations/{examId}/results":{"get":{"tags":["Exam Simulation"],"summary":"Get exam results","description":"Get comprehensive exam results including category breakdown and incorrect questions. Only accessible after exam is completed. User can only view their own exams.","operationId":"getExamResults","parameters":[{"name":"examId","in":"path","description":"Exam ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Results retrieved successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExamResultsDTO"}}}},"403":{"description":"Exam belongs to another user","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExamResultsDTO"}}}},"404":{"description":"Exam not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExamResultsDTO"}}}},"400":{"description":"Exam not completed yet","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExamResultsDTO"}}}}}}},"/api/exams/simulations/history":{"get":{"tags":["Exam Simulation"],"summary":"Get exam history","description":"Get all completed exams for the user with their results","operationId":"getExamHistory","responses":{"200":{"description":"Exam history retrieved successfully","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/exams/simulations/can-start":{"get":{"tags":["Exam Simulation"],"summary":"Check if user can start exam","description":"Checks if user has an active exam in progress","operationId":"canStartExam","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/exams/simulations/active":{"get":{"tags":["Exam Simulation"],"summary":"Get active exam","description":"Get the currently active exam for the user, if any","operationId":"getActiveExam","responses":{"200":{"description":"Active exam retrieved or null if none","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}},"404":{"description":"No active exam found","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/exam-simulations/history":{"get":{"tags":["Exam Simulation (Alias)"],"summary":"Get exam history","operationId":"getExamHistory_1","parameters":[{"name":"userId","in":"query","description":"User ID (optional if authenticated)","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/exam-simulations/active":{"get":{"tags":["Exam Simulation (Alias)"],"summary":"Get active exam","operationId":"getActiveExam_1","parameters":[{"name":"userId","in":"query","description":"User ID (optional if authenticated)","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}},"delete":{"tags":["Exam Simulation (Alias)"],"summary":"Cancel active exam","operationId":"cancelActiveExam","parameters":[{"name":"userId","in":"query","description":"User ID (optional if authenticated)","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/exam-questions":{"get":{"tags":["Exam Questions"],"operationId":"getAllQuestions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExamQuestionResponse"}}}}}}}},"/api/exam-questions/{id}":{"get":{"tags":["Exam Questions"],"operationId":"getQuestionById_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExamQuestionResponse"}}}}}}},"/api/exam-questions/random":{"get":{"tags":["Exam Questions"],"operationId":"getRandomQuestions","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":50}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExamQuestionResponse"}}}}}}}},"/api/exam-questions/random/category/{categoryId}":{"get":{"tags":["Exam Questions"],"operationId":"getRandomQuestionsByCategory","parameters":[{"name":"categoryId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":15}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExamQuestionResponse"}}}}}}}},"/api/categories":{"get":{"tags":["Categories"],"summary":"Get all categories","description":"Retrieve all active categories with multi-language support","operationId":"getAllCategories","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryResponse"}}}}}}}},"/api/categories/{code}":{"get":{"tags":["Categories"],"summary":"Get category by code","description":"Retrieve a specific category by its unique code (A-Z)","operationId":"getCategoryByCode","parameters":[{"name":"code","in":"path","description":"Category code (A-Z)","required":true,"schema":{"maxLength":1,"minLength":1,"type":"string"},"example":"A"}],"responses":{"200":{"description":"Category found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoryResponse"}}}},"404":{"description":"Category not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoryResponse"}}}}}}},"/api/auth/me":{"get":{"tags":["auth-controller"],"operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/auth/health":{"get":{"tags":["auth-controller"],"operationId":"health_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/users":{"get":{"tags":["admin-controller"],"operationId":"getAllUsers","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/users/{id}":{"get":{"tags":["admin-controller"],"operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/health":{"get":{"tags":["admin-controller"],"operationId":"getSystemHealth","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/admin/dashboard":{"get":{"tags":["admin-controller"],"operationId":"getDashboard","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/":{"get":{"tags":["home-controller"],"operationId":"home","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/admin/signs/{id}":{"delete":{"tags":["admin-controller"],"operationId":"deleteSign","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"SubmitPracticeAnswerRequest":{"required":["selectedOptionId"],"type":"object","properties":{"selectedOptionId":{"type":"integer","format":"int64"},"timeTakenSeconds":{"maximum":300,"minimum":1,"type":"integer","format":"int32"}}},"SubmitPracticeAnswerResponse":{"type":"object","properties":{"questionId":{"type":"integer","format":"int64"},"isCorrect":{"type":"boolean"},"selectedOptionId":{"type":"integer","format":"int64"},"selectedOptionTextEn":{"type":"string"},"selectedOptionTextAr":{"type":"string"},"selectedOptionTextNl":{"type":"string"},"selectedOptionTextFr":{"type":"string"},"correctOptionId":{"type":"integer","format":"int64"},"correctOptionTextEn":{"type":"string"},"correctOptionTextAr":{"type":"string"},"correctOptionTextNl":{"type":"string"},"correctOptionTextFr":{"type":"string"},"explanationEn":{"type":"string"},"explanationAr":{"type":"string"},"explanationNl":{"type":"string"},"explanationFr":{"type":"string"},"categoryId":{"type":"integer","format":"int64"},"categoryNameEn":{"type":"string"},"categoryNameAr":{"type":"string"},"categoryNameNl":{"type":"string"},"categoryNameFr":{"type":"string"},"updatedAccuracy":{"type":"number"},"totalAttempts":{"type":"integer","format":"int32"},"correctAttempts":{"type":"integer","format":"int32"},"masteryLevel":{"type":"string"}}},"SubmitExamAnswerRequest":{"required":["selectedOptionId"],"type":"object","properties":{"selectedOptionId":{"type":"integer","format":"int64"}},"description":"Answer submission data"},"SubmitExamAnswerResponse":{"type":"object","properties":{"answerId":{"type":"integer","format":"int64"},"examId":{"type":"integer","format":"int64"},"questionId":{"type":"integer","format":"int64"},"selectedOptionId":{"type":"integer","format":"int64"},"submittedAt":{"type":"string","format":"date-time"},"message":{"type":"string"},"totalAnswered":{"type":"integer","format":"int32"},"totalQuestions":{"type":"integer","format":"int32"}}},"ExamOptionDTO":{"type":"object","properties":{"optionId":{"type":"integer","format":"int64"},"optionTextEn":{"type":"string"},"optionTextAr":{"type":"string"},"optionTextNl":{"type":"string"},"optionTextFr":{"type":"string"}}},"ExamQuestionDTO":{"type":"object","properties":{"questionId":{"type":"integer","format":"int64"},"questionOrder":{"type":"integer","format":"int32"},"questionTextEn":{"type":"string"},"questionTextAr":{"type":"string"},"questionTextNl":{"type":"string"},"questionTextFr":{"type":"string"},"difficultyLevel":{"type":"string"},"categoryName":{"type":"string"},"options":{"type":"array","items":{"$ref":"#/components/schemas/ExamOptionDTO"}}}},"ExamStartResponse":{"type":"object","properties":{"examId":{"type":"integer","format":"int64"},"totalQuestions":{"type":"integer","format":"int32"},"timeLimitMinutes":{"type":"integer","format":"int32"},"status":{"type":"string"},"startedAt":{"type":"string","format":"date-time"},"expiresAt":{"type":"string","format":"date-time"},"questions":{"type":"array","items":{"$ref":"#/components/schemas/ExamQuestionDTO"}}}},"RegisterRequest":{"required":["email","fullName","password","username"],"type":"object","properties":{"username":{"maxLength":50,"minLength":3,"type":"string"},"email":{"maxLength":100,"minLength":0,"type":"string"},"fullName":{"maxLength":100,"minLength":2,"type":"string"},"password":{"maxLength":100,"minLength":6,"type":"string"}}},"LoginRequest":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"UserProfileResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"},"fullName":{"type":"string"},"role":{"type":"string"},"isActive":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"}}},"CategoryProgressSummary":{"type":"object","properties":{"categoryName":{"type":"string"},"accuracy":{"type":"number"},"attempted":{"type":"integer","format":"int32"}}},"OverallProgressResponse":{"type":"object","properties":{"totalAttempted":{"type":"integer","format":"int32"},"totalCorrect":{"type":"integer","format":"int32"},"overallAccuracy":{"type":"number"},"weakCategories":{"type":"array","items":{"$ref":"#/components/schemas/CategoryProgressSummary"}},"strongCategories":{"type":"array","items":{"$ref":"#/components/schemas/CategoryProgressSummary"}},"questionsRemaining":{"type":"integer","format":"int32"},"studyStreak":{"type":"integer","format":"int32"},"recommendedDifficulty":{"type":"string","enum":["EASY","MEDIUM","HARD"]}}},"CategoryProgressResponse":{"type":"object","properties":{"categoryId":{"type":"integer","format":"int64"},"categoryName":{"type":"string"},"categoryCode":{"type":"string"},"questionsAttempted":{"type":"integer","format":"int32"},"correctAnswers":{"type":"integer","format":"int32"},"accuracyRate":{"type":"number"},"masteryLevel":{"type":"string","enum":["BEGINNER","INTERMEDIATE","ADVANCED"]},"lastPracticed":{"type":"string","format":"date-time"},"questionsRemaining":{"type":"integer","format":"int32"},"recommendedDifficulty":{"type":"string"},"strongCategory":{"type":"boolean"},"weakCategory":{"type":"boolean"}}},"NotificationCountResponse":{"type":"object","properties":{"unreadCount":{"type":"integer","format":"int32"}}},"WeakAreaRecommendationResponse":{"type":"object","properties":{"categoryName":{"type":"string"},"currentAccuracy":{"type":"number","format":"double"},"targetAccuracy":{"type":"number","format":"double"},"accuracyGap":{"type":"number","format":"double"},"recommendedQuestions":{"type":"integer","format":"int32"},"recommendedDifficulty":{"type":"string"},"estimatedTimeMinutes":{"type":"integer","format":"int32"},"priority":{"type":"integer","format":"int32"},"categoryId":{"type":"integer","format":"int64"},"categoryCode":{"type":"string"}}},"ErrorPatternResponse":{"type":"object","properties":{"patternType":{"type":"string","enum":["SIGN_CONFUSION","SUPPLEMENTARY_IGNORED","PRIORITY_MISUNDERSTANDING","SPEED_LIMIT_ERROR","ZONE_CONFUSION","RULE_OVERGENERALIZATION","OTHER"]},"count":{"type":"integer","format":"int32"},"percentage":{"type":"number","format":"double"},"description":{"type":"string"},"exampleQuestions":{"type":"array","items":{"$ref":"#/components/schemas/ExampleQuestionDTO"}}}},"ExampleQuestionDTO":{"type":"object","properties":{"questionId":{"type":"integer","format":"int64"},"questionTextEn":{"type":"string"},"questionTextAr":{"type":"string"},"questionTextNl":{"type":"string"},"questionTextFr":{"type":"string"},"categoryName":{"type":"string"},"contentImageUrl":{"type":"string"},"timesWrong":{"type":"integer","format":"int32"}}},"TrafficSignResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"signCode":{"type":"string"},"categoryCode":{"type":"string"},"nameAr":{"type":"string"},"nameEn":{"type":"string"},"nameNl":{"type":"string"},"nameFr":{"type":"string"},"descriptionAr":{"type":"string"},"descriptionEn":{"type":"string"},"descriptionNl":{"type":"string"},"descriptionFr":{"type":"string"},"imageUrl":{"type":"string"}}},"TrafficRule":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"ruleCode":{"type":"string"},"titleAr":{"type":"string"},"titleEn":{"type":"string"},"titleNl":{"type":"string"},"titleFr":{"type":"string"},"contentAr":{"type":"string"},"contentEn":{"type":"string"},"contentNl":{"type":"string"},"contentFr":{"type":"string"},"category":{"type":"string"},"importanceLevel":{"type":"string","enum":["HIGH","MEDIUM","LOW"]},"appliesTo":{"type":"string"},"penaltyInfoAr":{"type":"string"},"penaltyInfoEn":{"type":"string"},"penaltyInfoNl":{"type":"string"},"penaltyInfoFr":{"type":"string"},"isActive":{"type":"boolean"}}},"Category":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"code":{"type":"string"},"nameAr":{"type":"string"},"nameEn":{"type":"string"},"nameNl":{"type":"string"},"nameFr":{"type":"string"},"descriptionAr":{"type":"string"},"descriptionEn":{"type":"string"},"descriptionNl":{"type":"string"},"descriptionFr":{"type":"string"},"displayOrder":{"type":"integer","format":"int32"},"isActive":{"type":"boolean"}}},"QuizAnswerOption":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"optionTextAr":{"type":"string"},"optionTextEn":{"type":"string"},"optionTextNl":{"type":"string"},"optionTextFr":{"type":"string"},"isCorrect":{"type":"boolean"},"displayOrder":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"QuizQuestion":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"questionAr":{"type":"string"},"questionEn":{"type":"string"},"questionNl":{"type":"string"},"questionFr":{"type":"string"},"questionType":{"type":"string","enum":["MULTIPLE_CHOICE","TRUE_FALSE","IMAGE_BASED"]},"difficultyLevel":{"type":"string","enum":["EASY","MEDIUM","HARD"]},"category":{"$ref":"#/components/schemas/Category"},"trafficSign":{"$ref":"#/components/schemas/TrafficSign"},"contentImageUrl":{"type":"string"},"explanationAr":{"type":"string"},"explanationEn":{"type":"string"},"explanationNl":{"type":"string"},"explanationFr":{"type":"string"},"errorExplanationAr":{"type":"string"},"errorExplanationEn":{"type":"string"},"errorExplanationNl":{"type":"string"},"errorExplanationFr":{"type":"string"},"typicalErrorType":{"type":"string","enum":["SIGN_CONFUSION","SUPPLEMENTARY_IGNORED","PRIORITY_MISUNDERSTANDING","SPEED_LIMIT_ERROR","ZONE_CONFUSION","RULE_OVERGENERALIZATION","OTHER"]},"contextSpecific":{"type":"boolean"},"requiresSignImage":{"type":"boolean"},"isActive":{"type":"boolean"},"status":{"type":"string","enum":["DRAFT","PUBLISHED"]},"publishedAt":{"type":"string","format":"date-time"},"options":{"type":"array","items":{"$ref":"#/components/schemas/QuizAnswerOption"}}}},"TrafficSign":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"category":{"$ref":"#/components/schemas/Category"},"signCode":{"type":"string"},"nameAr":{"type":"string"},"nameEn":{"type":"string"},"nameNl":{"type":"string"},"nameFr":{"type":"string"},"descriptionAr":{"type":"string"},"descriptionEn":{"type":"string"},"descriptionNl":{"type":"string"},"descriptionFr":{"type":"string"},"imageUrl":{"type":"string"},"isActive":{"type":"boolean"}}},"SearchResponse":{"type":"object","properties":{"query":{"type":"string"},"results":{"type":"array","items":{"$ref":"#/components/schemas/SearchResultItem"}}}},"SearchResultItem":{"type":"object","properties":{"type":{"type":"string"},"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"href":{"type":"string"}}},"QuizStats":{"type":"object","properties":{"totalQuestions":{"type":"integer","format":"int64"}}},"OptionResponse":{"type":"object","properties":{"number":{"type":"integer","format":"int32"},"textAr":{"type":"string"},"textEn":{"type":"string"},"textNl":{"type":"string"},"textFr":{"type":"string"}}},"PracticeQuestionResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"lessonId":{"type":"integer","format":"int64"},"questionAr":{"type":"string"},"questionEn":{"type":"string"},"questionNl":{"type":"string"},"questionFr":{"type":"string"},"options":{"type":"array","items":{"$ref":"#/components/schemas/OptionResponse"}},"correctAnswer":{"type":"integer","format":"int32"},"explanationAr":{"type":"string"},"explanationEn":{"type":"string"},"explanationNl":{"type":"string"},"explanationFr":{"type":"string"},"displayOrder":{"type":"integer","format":"int32"}}},"LessonResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"categoryId":{"type":"integer","format":"int64"},"categoryCode":{"type":"string"},"titleAr":{"type":"string"},"titleEn":{"type":"string"},"titleNl":{"type":"string"},"titleFr":{"type":"string"},"contentAr":{"type":"string"},"contentEn":{"type":"string"},"contentNl":{"type":"string"},"contentFr":{"type":"string"},"displayOrder":{"type":"integer","format":"int32"},"estimatedMinutes":{"type":"integer","format":"int32"},"questionsCount":{"type":"integer","format":"int32"}}},"HealthResponse":{"type":"object","properties":{"status":{"type":"string"},"message":{"type":"string"},"timestamp":{"type":"string"},"version":{"type":"string"}}},"CategoryBreakdownDTO":{"type":"object","properties":{"categoryId":{"type":"integer","format":"int64"},"categoryNameEn":{"type":"string"},"categoryNameAr":{"type":"string"},"categoryNameNl":{"type":"string"},"categoryNameFr":{"type":"string"},"totalQuestions":{"type":"integer","format":"int32"},"correctAnswers":{"type":"integer","format":"int32"},"wrongAnswers":{"type":"integer","format":"int32"},"accuracyPercentage":{"type":"number","format":"double"},"categoryCode":{"type":"string"},"performanceLevel":{"type":"string"},"isWeakArea":{"type":"boolean"}}},"ExamResultsDTO":{"type":"object","properties":{"examId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"completedAt":{"type":"string","format":"date-time"},"totalQuestions":{"type":"integer","format":"int32"},"correctAnswers":{"type":"integer","format":"int32"},"wrongAnswers":{"type":"integer","format":"int32"},"scorePercentage":{"type":"number","format":"double"},"passed":{"type":"boolean"},"passingScore":{"type":"integer","format":"int32"},"timeTakenSeconds":{"type":"integer","format":"int32"},"averageTimePerQuestion":{"type":"integer","format":"int32"},"durationMinutes":{"type":"integer","format":"int32"},"answeredCount":{"type":"integer","format":"int32"},"unansweredCount":{"type":"integer","format":"int32"},"resultStatus":{"type":"string"},"passingThreshold":{"type":"integer","format":"int32"},"pointsToPass":{"type":"integer","format":"int32"},"weakCategories":{"type":"array","items":{"type":"string"}},"recommendedAction":{"type":"string"},"categoryBreakdown":{"type":"array","items":{"$ref":"#/components/schemas/CategoryBreakdownDTO"}},"incorrectQuestions":{"type":"array","items":{"$ref":"#/components/schemas/IncorrectQuestionDTO"}}}},"IncorrectQuestionDTO":{"type":"object","properties":{"questionId":{"type":"integer","format":"int64"},"questionTextEn":{"type":"string"},"questionTextAr":{"type":"string"},"questionTextNl":{"type":"string"},"questionTextFr":{"type":"string"},"selectedOptionId":{"type":"integer","format":"int64"},"selectedOptionText":{"type":"string"},"correctOptionId":{"type":"integer","format":"int64"},"correctOptionText":{"type":"string"},"explanationEn":{"type":"string"},"explanationAr":{"type":"string"},"explanationNl":{"type":"string"},"explanationFr":{"type":"string"},"categoryName":{"type":"string"},"categoryCode":{"type":"string"},"contentImageUrl":{"type":"string"},"userAnswerOptionId":{"type":"integer","format":"int64"},"correctAnswerOptionId":{"type":"integer","format":"int64"},"typicalErrorType":{"type":"string"}}},"ExamQuestionResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"categoryId":{"type":"integer","format":"int64"},"categoryCode":{"type":"string"},"questionAr":{"type":"string"},"questionEn":{"type":"string"},"questionNl":{"type":"string"},"questionFr":{"type":"string"},"options":{"type":"array","items":{"$ref":"#/components/schemas/OptionResponse"}},"correctAnswer":{"type":"integer","format":"int32"},"explanationAr":{"type":"string"},"explanationEn":{"type":"string"},"explanationNl":{"type":"string"},"explanationFr":{"type":"string"},"imageUrl":{"type":"string"},"difficulty":{"type":"string"},"isImportant":{"type":"boolean"}}},"CategoryResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"code":{"type":"string"},"nameAr":{"type":"string"},"nameEn":{"type":"string"},"nameNl":{"type":"string"},"nameFr":{"type":"string"},"descriptionAr":{"type":"string"},"descriptionEn":{"type":"string"},"descriptionNl":{"type":"string"},"descriptionFr":{"type":"string"},"displayOrder":{"type":"integer","format":"int32"}}}}}}
